<template>
  <section class="prapla-container">
    <img :src="image" />
    <section class="word-container"
             @click="textToSpeech">
      <h1 >{{ word }}</h1>
      <svg xmlns="http://www.w3.org/2000/svg" width="42.739" height="27.219" viewBox="0 0 42.739 27.219">
        <g id="Listen" transform="translate(-203.721 -576.637)">
          <g id="Group_2" data-name="Group 2" transform="translate(203.721 577.724)">
            <g id="Union_1" data-name="Union 1" transform="translate(0 0)" fill="#9e99ee">
              <path d="M 20.56910133361816 25.13173484802246 C 20.21465110778809 25.13176536560059 19.6904296875 25.03430557250977 19.20586013793945 24.56986427307129 L 12.37074089050293 18.01961517333984 L 12.08064079284668 17.74160385131836 L 11.67884063720703 17.74160385131836 L 6.000300407409668 17.74160385131836 C 3.243130445480347 17.74160385131836 1.000000476837158 15.49847507476807 1.000000476837158 12.74130439758301 L 1.000000476837158 11.80530452728271 C 1.000000476837158 9.048134803771973 3.243130445480347 6.805004596710205 6.000300407409668 6.805004596710205 L 12.47335052490234 6.805004596710205 L 12.87515068054199 6.805004596710205 L 13.16525077819824 6.526994705200195 L 19.20580101013184 0.7381946444511414 C 19.69037055969238 0.27374467253685 20.21467018127441 0.1762646734714508 20.56916999816895 0.1762646734714508 C 21.56247138977051 0.1762646734714508 22.58990097045898 0.9266946911811829 22.58990097045898 2.182504653930664 L 22.58990097045898 23.1255054473877 C 22.58990097045898 24.38120460510254 21.56244087219238 25.13165473937988 20.56910133361816 25.13173484802246 Z" stroke="none"/>
              <path d="M 20.56902122497559 24.13173484802246 C 20.992919921875 24.13170433044434 21.58990097045898 23.81949424743652 21.58990097045898 23.1255054473877 L 21.58990097045898 2.182504653930664 C 21.58990097045898 1.488454699516296 20.99300956726074 1.176264643669128 20.56916999816895 1.176264643669128 C 20.32018089294434 1.176264643669128 20.09430122375488 1.271754622459412 19.89770126342773 1.460184693336487 L 13.85715007781982 7.248984813690186 L 13.2769603729248 7.805004596710205 L 12.47335052490234 7.805004596710205 L 6.000300407409668 7.805004596710205 C 3.794530391693115 7.805004596710205 2.000000476837158 9.59953498840332 2.000000476837158 11.80530452728271 L 2.000000476837158 12.74130439758301 C 2.000000476837158 14.94707489013672 3.794530391693115 16.74160385131836 6.000300407409668 16.74160385131836 L 11.67884063720703 16.74160385131836 L 12.48245048522949 16.74160385131836 L 13.06264019012451 17.2976245880127 L 19.8978099822998 23.84792518615723 C 20.09432029724121 24.03626441955566 20.32014083862305 24.13175392150879 20.56900978088379 24.13173484802246 L 20.56902122497559 24.13173484802246 M 20.56917953491211 26.13173484802246 C 19.85134124755859 26.13179397583008 19.11918067932129 25.87194442749023 18.51390075683594 25.29180526733398 L 11.67884063720703 18.74160385131836 L 6.000300407409668 18.74160385131836 C 2.686500549316406 18.74160385131836 4.852294637203158e-07 16.05509376525879 4.852294637203158e-07 12.74130439758301 L 4.852294637203158e-07 11.80530452728271 C 4.852294637203158e-07 8.491504669189453 2.686500549316406 5.805004596710205 6.000300407409668 5.805004596710205 L 12.47335052490234 5.805004596710205 L 18.51390075683594 0.01620467007160187 C 19.11906433105469 -0.5638278126716614 19.85147285461426 -0.8237318396568298 20.56917572021484 -0.8237318396568298 C 22.11322402954102 -0.8237318396568298 23.58990097045898 0.3785957396030426 23.58990097045898 2.182504653930664 L 23.58990097045898 23.1255054473877 C 23.58990097045898 24.92924499511719 22.11308097839355 26.13161468505859 20.56917953491211 26.13173484802246 Z" stroke="none" fill="#9e99ee"/>
            </g>
            <path id="Path_1" data-name="Path 1" d="M112.3,667.024a10.752,10.752,0,0,1,2.107,5.573c0,2.828-2.107,5.738-2.107,5.738" transform="translate(-85.33 -660.787)" fill="none" stroke="#9e99ee" stroke-linecap="round" stroke-width="2"/>
            <path id="Path_2" data-name="Path 2" d="M112.3,667.025s3.247,4.23,3.247,8.589-3.247,8.844-3.247,8.844" transform="translate(-80.408 -663.848)" fill="none" stroke="#9e99ee" stroke-linecap="round" stroke-width="2"/>
            <path id="Path_3" data-name="Path 3" d="M112.3,667.025s4.314,5.619,4.314,11.408S112.3,690.18,112.3,690.18" transform="translate(-74.879 -666.709)" fill="none" stroke="#9e99ee" stroke-linecap="round" stroke-width="2"/>
          </g>
        </g>
      </svg>
    </section>

  </section>
</template>

<script>
export default {
  data() {
    return {
      speech: null
    }
  },
  props: {
    image: {
      type: String
    },
    word: {
      type: String
    }
  },
  watch: {
    word: {
      immediate: true,
      deep: true,
      handler () {
        this.textToSpeech()
      }
    }
  },
  mounted() {
    const SpeechSynthesisUtterance = window.SpeechSynthesisUtterance || window.webkitSpeechSynthesisUtterance

    this.speech = new SpeechSynthesisUtterance()
    this.speech.lang = 'nl-NL'
    this.speech.rate = .8
  },
  methods: {
    textToSpeech() {
      if (this.speech) {
        this.speech.text = this.word
        speechSynthesis.speak(this.speech)
      }
    }
  }
}
</script>

<style lang="css" scoped>
  .prapla-container {
    width: 100%;
    margin-top: 5rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  .prapla-container img {
    max-width: 60vw;
    height: 60vw;
  }
  .word-container {
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    grid-gap: 1em;
    gap: 1em;
    padding: 1rem 0;
    margin-top: 2rem;
    background-color: white;
  }
  h1 {
    cursor: pointer;
    font-size: clamp(2rem, 3vw, 2.5rem);
    font-weight: 600;
  }
</style>
